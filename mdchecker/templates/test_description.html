{% extends "base.html" %}

{% block extra_styles %}
<style rel="stylesheet" type="text/css">
    .clickable-row {
        content: "";
        display: inline-block;
        position: absolute;
        width: 100%;
    }

    .table {
        table-layout: fixed;
        width: 100%;
    }
    td {
        word-wrap: break-word;
    }
    .first_col {
        width: 8em;
    }
</style>
{% endblock %}

{% block content %}

    <h2>Description des tests unitaires</h2>

    {% for ut in tests %}
    <div class="panel panel-default">
        <div class="panel-heading"
             data-toggle="collapse" data-target="#collapse-{{ut.name}}"
             aria-expanded="false" aria-controls="collapse-{{ut.name}}">
            <h4>{{ut.name}}</h4>
            <p>{{ut.abstract}}</p>
        </div>
        <div class="panel-collapse collapse" id="collapse-{{ut.name}}">

            <div class="panel-body">
                <table class="table">
                    {% if ut.xpath.items()|length > 0 %}
                    <tr>
                        <td class="first_col">Chemins</td>
                        <td>
                            <ul>
                            {% for key, value in ut.xpath.items() %}
                                <li>{{key}} : {{value}}</li>
                            {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    {% endif %}
                    {% if ut.re.items()|length > 0 %}
                    <tr>
                        <td class="first_col">Expressions</td>
                        <td>
                            <ul>
                            {% for key, value in ut.re.items() %}
                                <li>{{key}} : {{value}}</li>
                            {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    {% endif %}
                    {% if ut.values.items()|length > 0 %}
                    <tr>
                        <td class="first_col">Valeurs</td>
                        <td>
                            <ul>
                            {% for key, valuelist in ut.values.items() %}
                                <li>
                                    {{key}} :
                                        {% for value in valuelist %}
                                        {{value}},
                                        {% endfor %}
                                </li>
                            {% endfor %}
                            </ul>
                        </td>
                    </tr>
                    {% endif %}
                </table>

            </div>
        </div>
    </div>
    {% endfor %}

{% endblock %}
